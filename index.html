---
layout: default
title: Certified Lover Data
---

<!-- Slide indicator bar -->
<div class="nav-indicator">
  <span class="bar" id="bar0"></span>
  <span class="bar" id="bar1"></span>
  <span class="bar" id="bar2"></span>
  <span class="bar" id="bar3"></span>
  <span class="bar" id="bar4"></span>
  <span class="bar" id="bar5"></span>
  <span class="bar" id="bar6"></span>
  <span class="bar" id="bar7"></span>
  <span class="bar" id="bar8"></span>
  <span class="bar" id="bar9"></span>
</div>
<!-- Slide container -->
<div class="slider-container">
  <section class="slide" id="slide1">
    <img src="{{ site.baseurl }}/assets/images/logo.png" alt="Certified Lover Data" class="logo" />
    <img src="{{ site.baseurl }}/assets/images/party2.gif" alt="Party GIF" class="party-gif" />
  </section>
  <section class="slide" id="slide1.2">  </section>

    <section class="slide" id="slide2">
    <img src="{{ site.baseurl }}/assets/images/genre-race-title.png" alt="Genre Race Chart" class="genre-race-title" />
    <div class="chart-container">
      <img src="{{ site.baseurl }}/assets/images/genre-race.png" alt="Genre Race Chart" class="chart-img" />
    </div>
  </section>
  <section class="slide" id="slide2.2">  </section>

    <section class="slide" id="slide3">
    <img src="{{ site.baseurl }}/assets/images/Map.png" alt="Map" class="map" />
    <div class="map-container">
      <svg id="my_dataviz" width="1500" height="750"></svg>
    </div>
  </section>
  

  <section class="slide" id="slide4">
    <img src="{{ site.baseurl }}/assets/images/correlations.png" alt="correlations" class="correlations" />
    <div id="correlation-menu-container">
      <label for="correlation-select">Choose a genre:</label>
      <select id="correlation-select">
        <option value="blues_correlation.csv">Blues</option>
        <option value="classical_correlation.csv">Classical</option>
        <option value="comedy_correlation.csv">Comedy</option>
        <option value="country_correlation.csv">Country</option>
        <option value="dance_correlation.csv">Dance</option>
        <option value="easy_listening_correlation.csv">Easy Listening</option>
        <option value="electronic_correlation.csv">Electronic</option>
        <option value="folk_correlation.csv">Folk</option>
        <option value="funk_correlation.csv">Funk</option>
        <option value="hip_hop_correlation.csv">Hip Hop</option>
        <option value="holiday_correlation.csv">Holiday</option>
        <option value="indie_correlation.csv">Indie</option>
        <option value="jazz_correlation.csv">Jazz</option>
        <option value="latin_correlation.csv">Latin</option>
        <option value="metal_correlation.csv">Metal</option>
        <option value="other_correlation.csv">Other</option>
        <option value="pop_correlation.csv">Pop</option>
        <option value="r&b_correlation.csv">R&B</option>
        <option value="reggae_correlation.csv">Reggae</option>
        <option value="regional_mexican_correlation.csv">Regional Mexican</option>
        <option value="rock_correlation.csv">Rock</option>
        <option value="ska_correlation.csv">Ska</option>
        <option value="soul_correlation.csv">Soul</option>
        <option value="soundtrack_correlation.csv">Soundtrack</option>
      </select>
    </div>
  
    
    <div id="heatmap-wrapper">
    <div id="correlation-heatmap"></div>
    <div id="correlation-legend"></div>
  </section>


  <section class="slide" id="slide5">
   <img src="https://see.fontimg.com/api/rf5/rg1lK/MDc3MGVhMWEwY2QwNDNlYjkyNWQxMzQ2ZDYyYWUwZWIudHRm/R2VucmVzIFRocm91Z2ggRml2ZSBLZXkgRmVhdHVyZXM/komigo-3d-regular.png?r=fs&h=60&w=1500&fg=000000&bg=FFFFFF&tb=1&s=40" alt="Comic Book fonts">
  <div class="scatter-controls">
  <label for="feature-x">X axis:</label>
  <select id="feature-x">
    <option value="danceability" selected>Danceability</option>
    <option value="energy">Energy</option>
    <option value="valence">Valence</option>
    <option value="tempo">Tempo</option>
    <option value="popularity">Popularity</option>
  </select>
  <label for="feature-y">Y axis:</label>
  <select id="feature-y">
    <option value="danceability">Danceability</option>
    <option value="energy">Energy</option>
    <option value="valence" selected>Valence</option>
    <option value="tempo">Tempo</option>
    <option value="popularity">Popularity</option>
  </select>
</div>
    <!-- container for the D3 scatterplot -->
    <div id="scatter-container"></div>

  </section>
  <section class="slide" id="slide5.2">  </section>


  </section>
  <section class="slide" id="slide6">
    <img src="{{ site.baseurl }}/assets/images/genrify-title.png" alt="genrify-title" class="genrify-title" />
    <img src="{{ site.baseurl }}/assets/images/genrify-subtitle.png" alt="genrify-subtitle" class="genrify-subtitle" />
    <div class="chart-container">
      <img src="{{ site.baseurl }}/assets/images/genrify.png" alt="genrify-map" class="genrify-map" />
    </div>
  </section>
</div>

<!-- Navigation arrows using images -->
<div class="nav-arrow left" id="leftArrow" onclick="prevSlide()">
  <img src="{{ site.baseurl }}/assets/images/left.png" alt="Left arrow" class="arrow-img" />
</div>

<div class="nav-arrow right" id="rightArrow" onclick="nextSlide()">
  <img src="{{ site.baseurl }}/assets/images/right.png" alt="Right arrow" class="arrow-img" />
</div>

<!-- Click prompt image (outside the arrow to avoid click propagation) -->
<img src="{{ site.baseurl }}/assets/images/click.png" alt="Click prompt" class="click-prompt" id="clickPrompt" />

<!-- JavaScript logic -->

<script>
  // keep your slide variables
  let currentSlide = 0;
  const totalSlides = 10;
  
  // slide navigation
  function nextSlide(){
    if (currentSlide < totalSlides - 1) {
      currentSlide++;
      updateSlide();
    }
  }
  function prevSlide(){
    if (currentSlide > 0) {
      currentSlide--;
      updateSlide();
    }
  }
  
  // DRAW WORLD MAP (slide 3)
  function drawMap() {
    /* … UNCHANGED … */
  }
  
  function drawCorrelationHeatmap(file) {
    /* … UNCHANGED … */
  }

  function drawScatter() {
    /* … UNCHANGED … */
  }

  // SLIDE UPDATE + HOOKUPS
  function updateSlide() {
    const container = document.querySelector('.slider-container');
    container.style.transform = `translateX(-${currentSlide * 100}vw)`;

    document.getElementById('leftArrow').style.display  = currentSlide === 0             ? 'none' : 'block';
    document.getElementById('rightArrow').style.display = currentSlide === totalSlides-1 ? 'none' : 'block';

    document.querySelectorAll('.nav-indicator .bar')
      .forEach((bar,i)=> bar.classList.toggle('active', i === currentSlide));

    // click prompt only on first real slide
    document.getElementById("clickPrompt").style.display = currentSlide === 0 ? "block":"none";

    // you can hook your drawMap / drawHeatmap / drawScatter when hitting their new indices:
    if (currentSlide === 2 && !window.mapDrawn) {
      drawMap(); window.mapDrawn = true;
    }
    if (currentSlide === 6 && !window.heatmapDrawn) {
      drawCorrelationHeatmap(document.getElementById("correlation-select").value);
      window.heatmapDrawn = true;
    }
    if (currentSlide === 8 && !window.scatterDrawn) {
      drawScatter(); window.scatterDrawn = true;
    }
  }
  if (currentSlide === 4 && !window.scatterDrawn) {
    drawScatter();
    window.scatterDrawn = true;
  }


  document.addEventListener("DOMContentLoaded", () => {
  // 1) initialize the slider
  updateSlide();

  // 2) wire up your correlation dropdown
  document
    .getElementById("correlation-select")
    .addEventListener("change", e => drawCorrelationHeatmap(e.target.value));

  // grab your two feature selects
  const xSelect = document.getElementById("feature-x");
  const ySelect = document.getElementById("feature-y");

  // 3) set your defaults
  xSelect.value = "danceability";
  ySelect.value = "valence";

  // 4) prevent the user from picking the same thing twice
  function forbidDuplicates() {
    Array.from(ySelect.options).forEach(opt => {
      opt.disabled = (opt.value === xSelect.value);
    });
    Array.from(xSelect.options).forEach(opt => {
      opt.disabled = (opt.value === ySelect.value);
    });
  }
  forbidDuplicates();

  // 5) wire up your feature dropdowns (with duplicate‐blocking + redraw)
  xSelect.addEventListener("change", () => {
    forbidDuplicates();
    drawScatter();
  });
  ySelect.addEventListener("change", () => {
    forbidDuplicates();
    drawScatter();
  });

  // 6) draw the very first scatter immediately
  drawScatter();

  // 7) keyboard navigation with ← and → 
  document.addEventListener("keydown", e => {
    // ignore when user is typing in a form control
    const tag = document.activeElement.tagName;
    if (["INPUT","TEXTAREA","SELECT"].includes(tag)) return;

    switch (e.key) {
      case "ArrowLeft":
        prevSlide();
        break;
      case "ArrowRight":
        nextSlide();
        break;
    }
  });
});

  </script>
