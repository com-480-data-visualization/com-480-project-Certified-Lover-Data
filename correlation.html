<!-- ========================================
     SLIDE 4 — AUDIO-FEATURE CORRELATION HEAT-MAP
======================================== -->
<section
  class="slide"
  id="slide4"
  style="
    /* 1) make this slide a vertical flex container... */
    display: flex;
    flex-direction: column;
    /* 2) ...and center everything horizontally */
    align-items: center;
  "
>
  <img
    src="{{ site.baseurl }}/assets/images/correlations.png"
    alt="Correlations title"
    class="correlations"
  />

  <!-- ========= Genre selector (centered + bold) ========= -->
  <div
    id="correlation-menu-container"
    style="
      text-align: center;
      margin: 1rem 0;
      width: auto;      /* let it shrink‐wrap */
    "
  >
    <label
      for="correlation-select"
      style="font-weight:700; margin-right:0.5rem;"
    >
      Choose a genre:
    </label>
    <select
      id="correlation-select"
      style="font-weight:700;"
    >
      {% assign genres = "Blues|Classical|Comedy|Country|Dance|Easy Listening|Electronic|Folk|Funk|Hip Hop|Holiday|Indie|Jazz|Latin|Metal|Other|Pop|R&B|Reggae|Regional Mexican|Rock|Ska|Soul|Soundtrack" | split: "|" %}
      {% for g in genres %}
        {% assign file = g 
           | downcase 
           | replace: " ", "_" 
           | replace: "&", "&" 
           | append: "_correlation.csv" %}
        <option value="{{ file }}">{{ g }}</option>
      {% endfor %}
    </select>
  </div>

  <!-- ========= Heat-map output (now truly centered) ========= -->
  <div
    id="heatmap-wrapper"
    style="
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 2rem;
      /* no width:100% here—let it size to its contents */
      width: auto;
    "
  >
    <div id="correlation-heatmap"></div>
    <div id="correlation-legend"></div>
  </div>
</section>
